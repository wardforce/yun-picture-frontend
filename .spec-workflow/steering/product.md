\# Product Overview



\## Product Purpose



\*\*狐仙云图（Yun-Picture）\*\* 是一个企业级图片管理系统，旨在解决以下核心问题：



1\. \*\*图片资源集中管理\*\* - 为用户提供统一的图片存储、分类、检索平台

2\. \*\*图片内容审核\*\* - 管理员可对用户上传内容进行审核，确保内容合规

3\. \*\*空间资源隔离\*\* - 支持个人/团队空间，实现资源隔离和权限控制

4\. \*\*多渠道上传\*\* - 支持本地上传、URL上传、批量上传等多种方式



\## Target Users



\### 主要用户角色



\| 角色                      | 描述             | 核心需求                               |

\| ------------------------- | ---------------- | -------------------------------------- |

\| \*\*普通用户 (user)\*\* | 图片上传和浏览者 | 上传图片、创建空间、搜索图片、下载图片 |

\| \*\*VIP用户 (vip)\*\*   | 付费增值用户     | 更大的存储空间、更多功能权限           |

\| \*\*管理员 (admin)\*\*  | 系统管理者       | 用户管理、图片审核、空间管理、系统配置 |



\### 用户痛点



\- 图片资源分散，难以统一管理

\- 图片分类检索困难

\- 缺乏有效的审核机制

\- 存储空间限制不清晰



\## Key Features



\### 1. 用户认证与权限管理



\- 用户注册（密码最少8位）

\- 用户登录/登出

\- 基于角色的访问控制（RBAC）

\- 自动登录态刷新



\### 2. 图片管理



\- \*\*上传方式\*\*:

&#x20; \- 本地文件上传

&#x20; \- URL 链接上传

&#x20; \- 批量上传

\- \*\*元数据管理\*\*: 名称、分类、标签、简介

\- \*\*图片操作\*\*: 查看、编辑、删除、下载

\- \*\*缩略图支持\*\*: 自动生成缩略图



\### 3. 图片搜索与发现



\- 全文搜索

\- 分类筛选

\- 标签筛选

\- 分页查询（限制单页20条）

\- 缓存优化查询



\### 4. 空间管理



\- 创建个人空间

\- 空间级别配置

&#x20; \- 普通版（基础配置）

&#x20; \- 专业版（增强配置）

&#x20; \- 旗舰版（高级配置）

\- 空间资源统计（总大小、总数量）

\- 资源限制管理



\### 5. 图片审核（管理员）



\- 待审核图片列表

\- 审核操作（通过/拒绝）

\- 审核意见反馈

\- 审核状态追踪



\### 6. 管理后台



\- 用户管理（查询、编辑、删除）

\- 图片管理（全局图片管理）

\- 空间管理（全局空间管理）



\## Business Objectives



1\. \*\*提升用户体验\*\* - 提供简洁高效的图片管理工具

2\. \*\*内容合规保障\*\* - 通过审核机制确保平台内容健康

3\. \*\*增值服务变现\*\* - VIP 会员体系实现商业变现

4\. \*\*数据资产沉淀\*\* - 构建用户图片资源库



\## Success Metrics



\| 指标                     | 目标     | 衡量方式        |

\| ------------------------ | -------- | --------------- |

\| \*\*用户注册转化率\*\* | > 30%    | 访问→注册      |

\| \*\*日活跃用户数\*\*   | 持续增长 | DAU 统计        |

\| \*\*图片上传成功率\*\* | > 99%    | 上传成功/总上传 |

\| \*\*审核响应时间\*\*   | \< 24h    | 提交到审核完成  |

\| \*\*VIP 转化率\*\*     | > 5%     | 普通用户→VIP   |



\## Product Principles



1\. \*\*简洁易用\*\*: 界面简洁，操作直观，降低用户学习成本

2\. \*\*安全可靠\*\*: 完善的权限控制，保障用户数据安全

3\. \*\*快速响应\*\*: 优化性能，确保良好的用户体验

4\. \*\*可扩展性\*\*: 模块化设计，便于功能扩展



\## Monitoring & Visibility



\- \*\*Dashboard Type\*\*: Web 单页应用

\- \*\*Real-time Updates\*\*: API 轮询

\- \*\*Key Metrics Displayed\*\*:

&#x20; \- 空间使用统计

&#x20; \- 图片数量统计

&#x20; \- 用户基本信息

\- \*\*Sharing Capabilities\*\*: 图片下载、链接分享（规划中）



\## Future Vision



\### 短期规划



\- \[ ] 国际化支持（多语言）

\- \[ ] 图片编辑功能

\- \[ ] 批量操作（批量删除、批量移动）



\### 中期规划



\- \[ ] 团队空间协作

\- \[ ] 图片 AI 标签自动识别

\- \[ ] 移动端适配优化



\### 长期规划



\- \[ ] PWA 离线支持

\- \[ ] 图片 CDN 加速

\- \[ ] 开放 API 接入



\---



\## 功能模块详细需求



\### FR-001 用户认证模块



\#### 注册功能



\| 字段     | 必填 | 规则           |

\| -------- | ---- | -------------- |

\| 账号     | 是   | 唯一，不可重复 |

\| 密码     | 是   | 最少8位        |

\| 确认密码 | 是   | 与密码一致     |



\#### 登录功能



\- 支持账号密码登录

\- 登录成功后存储用户状态

\- 未登录访问受限页面自动跳转登录页



\#### 权限控制



\- \`/admin/\*\` 路由仅管理员可访问

\- 敏感操作需验证用户身份



\### FR-002 图片管理模块



\#### 上传图片



\`\`\`

输入：图片文件/URL + 元数据（名称、分类、标签、简介）

输出：图片记录 + 缩略图URL

流程：

1\. 选择上传方式（本地/URL/批量）

2\. 填写图片元数据

3\. 提交上传

4\. 等待审核（新上传图片）

\`\`\`



\#### 图片数据模型



\| 字段         | 类型     | 描述       |

\| ------------ | -------- | ---------- |

\| id           | number   | 图片ID     |

\| url          | string   | 原图URL    |

\| thumbnailUrl | string   | 缩略图URL  |

\| name         | string   | 图片名称   |

\| introduction | string   | 图片简介   |

\| category     | string   | 分类       |

\| tags         | string\[] | 标签列表   |

\| picSize      | number   | 文件大小   |

\| picWidth     | number   | 宽度       |

\| picHeight    | number   | 高度       |

\| picScale     | number   | 宽高比     |

\| picFormat    | string   | 格式       |

\| userId       | number   | 上传用户ID |

\| spaceId      | number   | 所属空间ID |

\| reviewStatus | number   | 审核状态   |

\| createTime   | datetime | 创建时间   |



\#### 审核状态枚举



\| 值 | 状态   | 描述                   |

\| -- | ------ | ---------------------- |

\| 0  | 待审核 | 新上传，等待管理员审核 |

\| 1  | 通过   | 审核通过，公开可见     |

\| 2  | 拒绝   | 审核拒绝，仅上传者可见 |



\### FR-003 空间管理模块



\#### 空间级别配置



\| 级别   | 值 | 描述         |

\| ------ | -- | ------------ |

\| 普通版 | 0  | 基础存储配额 |

\| 专业版 | 1  | 增强存储配额 |

\| 旗舰版 | 2  | 最大存储配额 |



\#### 空间数据模型



\| 字段       | 类型   | 描述             |

\| ---------- | ------ | ---------------- |

\| id         | number | 空间ID           |

\| spaceName  | string | 空间名称         |

\| spaceLevel | number | 空间级别         |

\| maxSize    | number | 最大容量限制     |

\| maxCount   | number | 最大图片数量限制 |

\| totalSize  | number | 已使用容量       |

\| totalCount | number | 已有图片数量     |

\| userId     | number | 所有者ID         |



\### FR-004 管理后台模块



\#### 用户管理



\- 多条件搜索：ID、账号、邮箱、会员等级等

\- 用户信息编辑：昵称、头像、角色、会员等级

\- 用户删除



\#### 图片管理



\- 全局图片列表

\- 图片审核操作

\- 图片编辑/删除



\#### 空间管理



\- 全局空间列表

\- 空间配置编辑

\- 空间删除



\---



\## API 接口规范



\### 基础配置



\- \*\*Base URL\*\*: \`http://localhost:8081/api/\`

\- \*\*超时时间\*\*: 60秒

\- \*\*认证方式\*\*: Cookie Session



\### 错误码约定



\| 错误码 | 描述       | 处理方式       |

\| ------ | ---------- | -------------- |

\| 40100  | 未登录     | 重定向到登录页 |

\| 40300  | 无权限     | 提示无权限     |

\| 50000  | 服务器错误 | 提示系统异常   |



\### 主要接口列表



\#### 用户接口



\- \`POST /user/login\` - 用户登录

\- \`POST /user/logout\` - 用户登出

\- \`POST /user/register\` - 用户注册

\- \`GET /user/get/login\` - 获取当前登录用户



\#### 图片接口



\- \`POST /picture/upload\` - 上传图片

\- \`POST /picture/upload/batch\` - 批量上传

\- \`POST /picture/upload/url\` - URL上传

\- \`GET /picture/vo/page\` - 分页查询

\- \`POST /picture/edit\` - 编辑图片

\- \`POST /picture/delete\` - 删除图片

\- \`POST /picture/review\` - 图片审核



\#### 空间接口



\- \`POST /space/add\` - 创建空间

\- \`POST /space/edit\` - 编辑空间

\- \`GET /space/vo/get\` - 获取空间详情

\- \`GET /space/level/list\` - 获取空间级别配置



\---



\*\*文档版本\*\*: 1.0.0

\*\*最后更新\*\*: 2025-12-27

\*\*维护者\*\*: 产品团队